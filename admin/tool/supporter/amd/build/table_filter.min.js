define(["jquery"],function(a){var b=function(b,c,d){var e=[],f="";a(b).each(function(){var b=a(this).val();""===b?f="^(?![\\s\\S])":(b=b.replace(/[-[\]{}()*+!<=:?.\/\\^$|#\s,]/g,"\\$&"),f=","+b+"$|^"+b+",|,"+b+",|^"+b+"$"),e.push(f)});var g=e.join("|");c.fnFilter(g,d,!0,!1,!1,!0)};return{filterEvent:function(c,d,e,f){a(d).change(function(){"#courseTable"===f&&a("#courses_clear_filters").css("visibility","visible");var d=a("input[name="+c+"]:checked"),g=a(f).dataTable();b(d,g,e)})},searchTable:function(b,c,d,e){function f(){"#courseTable"===b&&a("#courses_clear_filters").css("visibility","visible");var e=a(b).dataTable(),f=a(d)[0].value,g=a(c)[0].value;"-1"==g?a(b).DataTable().search(f).draw():e.fnFilter(f,g,!0,!0,!1,!0)}var g=0;e.forEach(function(b){a(c).append(a("<option>",{value:g,text:b.name})),g++}),a(d).on("keyup",f);var h;a(c).on("click",function(){h=this.value}),a(c).on("change",function(){a(b).DataTable().column(h).search(""),f()})},coursesClearFilters:function(b){a("#courses_clear_filters").on("click",function(){a(b).DataTable().search("").columns().search("").draw(),a("#course_table_search_input")[0].value="",a("input[name^=courses_level]:checked").prop("checked",!1),a(this).css("visibility","hidden")})}}});